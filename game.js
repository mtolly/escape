// Generated by CoffeeScript 1.4.0
(function() {
  var Circle, Player, Point, Rect, bodies, canvas, ctx, floors, walls;

  canvas = null;

  ctx = null;

  walls = [];

  floors = [];

  bodies = [];

  Point = (function() {

    function Point(x, y) {
      this.x = x;
      this.y = y;
    }

    Point.prototype.distance_to = function(p) {
      return Math.pow(Math.pow(this.x - p.x, 2) + Math.pow(this.y - p.y, 2), 0.5);
    };

    return Point;

  })();

  Rect = (function() {

    function Rect(top_left, width, height) {
      this.top_left = top_left;
      this.width = width;
      this.height = height;
    }

    Rect.prototype.includes_point = function(p) {
      var _ref, _ref1;
      return ((this.top_left.x <= (_ref = p.x) && _ref <= this.top_left.x + this.width)) && ((this.top_left.y <= (_ref1 = p.y) && _ref1 <= this.top_left.y + this.height));
    };

    return Rect;

  })();

  Circle = (function() {

    function Circle(center, radius) {
      this.center = center;
      this.radius = radius;
    }

    Circle.prototype.includes_point = function(p) {
      return this.center.distance_to(p) <= this.radius;
    };

    return Circle;

  })();

  Player = (function() {

    function Player(circle) {
      this.circle = circle;
    }

    Player.prototype.draw = function() {
      ctx.beginPath();
      ctx.arc(this.circle.center.x, this.circle.center.y, this.circle.radius, 0, 2 * Math.PI, false);
      ctx.fillStyle = 'red';
      return ctx.fill();
    };

    Player.prototype.update = function() {};

    return Player;

  })();

  $(document).ready(function() {
    var animloop;
    canvas = $('#canvas')[0];
    ctx = canvas.getContext('2d');
    window.requestAnimFrame = (function() {
      return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(callback) {
        return window.setTimeout(callback, 1000 / 60);
      };
    })();
    bodies.push(new Player(new Circle(new Point(100, 200), 25)));
    return (animloop = function() {
      var body, floor, wall, _i, _j, _k, _l, _len, _len1, _len2, _len3, _results;
      requestAnimFrame(animloop);
      for (_i = 0, _len = bodies.length; _i < _len; _i++) {
        body = bodies[_i];
        body.update();
      }
      ctx.fillStyle = 'white';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      for (_j = 0, _len1 = floors.length; _j < _len1; _j++) {
        floor = floors[_j];
        floor.draw();
      }
      for (_k = 0, _len2 = walls.length; _k < _len2; _k++) {
        wall = walls[_k];
        wall.draw();
      }
      _results = [];
      for (_l = 0, _len3 = bodies.length; _l < _len3; _l++) {
        body = bodies[_l];
        _results.push(body.draw());
      }
      return _results;
    })();
  });

}).call(this);
